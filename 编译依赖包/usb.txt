usb连接失败：
#第一步：进入 Kernel 配置菜单
#在 SDK 根目录下执行：
# 进入 kernel 目录
cd kernel
# 打开图形化配置菜单 (假设你用的 rockchip_linux_defconfig)
make ARCH=arm64 rockchip_linux_defconfig
make ARCH=arm64 menuconfig

#第二步：开启关键配置
#请在 menuconfig 中按 / 键搜索，或者按以下路径找到并**开启（按 Y 选成 *，或者按 M 选成 M）**以下选项。
路径：
Device Drivers -> USB support -> USB Gadget Support -> USB Gadget functions configurable through configfs
必须开启的选项（至少开启 ADB 和 RNDIS）：
请在菜单中上下移动光标，找到以下选项并按 Y 键将其选中（变成 [*] 或 <*>）,
如果一个 USB 配置包含太多功能（例如同时开启 ADB + MTP + UAC1 + UAC2 + RNDIS + HID），
可能会超出 USB 控制器的硬件限制，导致枚举失败，所以仅开启需要的即可（ADB）：
[ ] RNDIS
(对应报错：mkdir ... rndis.gs0 ... No such file)
[ ] Audio Class 1.0
(对应报错：mkdir ... uac1.gs0 ... No such file)
[ ] Audio Class 2.0
(对应报错：mkdir ... uac2.gs0 ... No such file)
[ ] HID function
(对应报错：mkdir ... hid.usb0 ... No such file)
[ ] Accessory gadget
(建议开启，Android/ADB 配套协议)
[ ] Mass storage
(截图显示已开启，保持 [*] 即可)
[ ] Function filesystem (FunctionFS)
(截图显示已开启，这是 ADB 的核心依赖，保持 [*] 即可)


#第三步：保存并重新编译 Kernel
#在 menuconfig 中选择 <Save> 保存为 .config。
#非常重要：你需要把这个 .config 保存回 SDK 的默认配置文件，否则下次 ./build.sh 可能会覆盖它。

1.查找真实的配置文件名
wzp@ubuntu:~/BSP/rk356x_linux$ # 查找 device/rockchip 目录下包含 rk3568 的配置文件
grep -r "RK_KERNEL_DEFCONFIG" device/rockchip/rk356x/
device/rockchip/rk356x/BoardConfig.mk:export RK_KERNEL_DEFCONFIG=rockchip_linux_defconfig
device/rockchip/rk356x/BoardConfig.mk:export RK_KERNEL_DEFCONFIG_FRAGMENT=
device/rockchip/rk356x/BoardConfig-rk3568-evb1-ddr4-v10.mk:export RK_KERNEL_DEFCONFIG=rockchip_linux_defconfig
device/rockchip/rk356x/BoardConfig-rk3568-evb1-ddr4-v10.mk:export RK_KERNEL_DEFCONFIG_FRAGMENT=


# 1. 进入内核目录
#cd kernel

# 2. 备份原厂配置 (给自己留条后路，非常重要)
cp arch/arm64/configs/rockchip_linux_defconfig arch/arm64/configs/rockchip_linux_defconfig.bak

# 3. 将刚才配置好 USB 驱动的 .config 覆盖过去
cp .config arch/arm64/configs/rockchip_linux_defconfig

#做完覆盖操作后，就可以放心地回到 SDK 根目录进行全量编译了，不用担心配置丢失或错乱：
cd ..
#(不要用./build.sh all)
./build.sh kernel
#然后一步一步重新编译
./build.sh firmware
./build.sh updateimg


